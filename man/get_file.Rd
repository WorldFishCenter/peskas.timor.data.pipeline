% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export.R
\name{get_file}
\alias{get_file}
\title{Download and read a versioned RDS object from public cloud storage}
\usage{
get_file(prefix)
}
\arguments{
\item{prefix}{Character. Prefix used to locate the cloud object (exact match).}
}
\value{
The R object read from the RDS file, with an extra attribute
\code{data_last_updated} (POSIXlt) indicating the timestamp extracted from the filename.
}
\description{
Retrieves an \code{.rds} file from the configured public Google cloud storage using
an exact prefix match, downloads it locally, reads it into R, and deletes the
temporary local file. The function also attaches a \code{data_last_updated}
attribute parsed from the object filename (expected to contain a timestamp as
the 4th underscore-separated token in \verb{\%Y\%m\%d\%H\%M} format).
}
\details{
Requires configuration from \code{read_config()}. Uses \code{cloud_object_name()} to
resolve the object name and \code{download_cloud_file()} to download it. Assumes
filenames follow a convention like \verb{..._<timestamp>_...} where \verb{<timestamp>}
is in \verb{\%Y\%m\%d\%H\%M} format and located at position 4 after splitting on \verb{_}.
}
\examples{
\dontrun{
x <- get_file("timor_aggregated")
attr(x, "data_last_updated")
}
}
\seealso{
read_config, cloud_object_name, download_cloud_file
}
\keyword{internal}
