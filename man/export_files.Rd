% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export.R
\name{export_files}
\alias{export_files}
\title{Export portal datasets as versioned JSON files to public cloud storage}
\usage{
export_files()
}
\value{
Invisibly returns \code{NULL}. Called for its side effects (JSON creation
and upload).
}
\description{
Orchestrates the portal data export workflow:
\enumerate{
\item Downloads multiple precomputed objects from public cloud storage via
\code{get_file()}.
\item Standardizes column names via \code{rename_ontology()}.
\item Formats time-binned tables via \code{format_aggregated_data()}.
\item Builds taxa group lookup via \code{label_taxa_groups()}.
\item Computes summary tables (\code{estimated_tons}, \code{estimated_revenue}) and a
curated \code{summary_data} list for portal use.
\item Writes each object to pretty-printed JSON with versioned filenames and
uploads them to public cloud storage.
}
}
\details{
Exported JSON objects include (at minimum):
\code{aggregated}, \code{taxa_aggregated}, \code{municipal_aggregated}, \code{municipal_taxa},
\code{nutrients_aggregated}, \code{data_last_updated}, \code{indicators_grid},
\code{label_groups_list}, and \code{summary_data}.

The function expects \code{summary_data} (downloaded) to contain fields such as
\code{n_surveys}, \code{catch_norm}, \code{catch_price_norm}, \code{nutrients_per_catch},
\code{nutrients_norm}, \code{conservation}, \code{cpue_df}, and \code{timor_shape}.

Assumes a configured public Google cloud storage provider in
\code{pars$public_storage$google} and relies on helper functions such as
\code{add_version()}, \code{upload_cloud_file()}, and JSON serialization via \code{toJSON()}.
}
\examples{
\dontrun{
export_files()
}
}
\seealso{
get_file, rename_ontology, format_aggregated_data, label_taxa_groups,
upload_cloud_file, add_version
}
\keyword{workflow}
