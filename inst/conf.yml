default:

  surveys:
    landings:
      api: kobohr
      survey_id: 344563
      token: !expr Sys.getenv('KOBO_TOKEN')
      file_prefix: timor-landings-v2
      version:
        preprocess: latest
    landings_legacy:
      api: kobohr
      survey_id:
      token: !expr Sys.getenv('KOBO_TOKEN')
      file_prefix: timor-landings-v1
      version:
        preprocess: latest

  metadata:
    airtable:
      name: metadata-tables
      base_id: appjEVaN8kBNXAWak
      api_key: !expr Sys.getenv("AIRTABLE_KEY")
      tables:
        - boats
        - devices
        - vms_installs
    version:
      preprocess: latest

  storage:
    google:
      key: gcs
      options:
        project: peskas
        bucket: timor-dev
        service_account_key: !expr Sys.getenv('GCP_SA_KEY')

production:
  storage:
    google:
      options:
        bucket: timor


local:
  inherits: development
  surveys:
    landings:
      token: !expr readLines("auth/kobo-token")
    landings_legacy:
      token: !expr readLines("auth/kobo-token")
  metadata:
    airtable:
      api_key: !expr readLines("auth/airtable-key")
  storage:
    google:
      options:
        service_account_key: !expr readLines("auth/gcp-sa-peskas_ingestion-key.json")
